#!/usr/bin/bash
#set -x

#/////////////////////////////////////////////////////////////////////////////////////////
#//////////////////////////////---- PARAM ----////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////

num_instances=0
num_instances_NotEmpty=0

#/////////////////////////////////////////////////////////////////////////////////////////
#//////////////////////////////---- MAIN ----/////////////////////////////////////////////
#/////////////////////////////////////////////////////////////////////////////////////////

echo "Version 1.0"
echo "created by Julian Sander"

if [ "$#" -ne 2 ]
  then
    echo "copyNotEmptyOut [path out files] [path destination]"
    exit 1    
fi

dir_1=$1
dir_2=$2

#iterate through .out files
for FILE in "$dir_1"/*.out; do 
    ((num_instances++))
    result_1=$(sed {1"q;d"} < $FILE)
    if [ -n "$result_1" ]; then
        #echo "Non-Empty File: $FILE"
        ((num_instances_NotEmpty++))

        cp "$FILE" "$dir_2/"
    fi
done

echo "Non-Empty files:                      $num_instances_NotEmpty/$num_instances"